<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel/slick/slick.css"/>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel/slick/slick-theme.css"/>


</head>
<style>
    :root {
        --fonts: Monserat;
        --bg_color: #E2B43B;
        --font_color: #efefef;
        --link_color: #efefef;
        --link_hover_color: #fff;
    }

    *, *:before, *:after {
        padding: 0;
        margin: 0;
    }

    .product_1_body {
        font-family: var(--fonts);
        background-color: var(--bg_color);
        position: relative;
        color: var(--font_color);
        text-align: center;
    }

    .product_1_body a, a:visited {
        color: var(--link_color);
        text-decoration: none;
    }

    .product_1_body a:hover {
        color: var(--link_hover_color);
    }

    .product_1_body .bv-hidden {
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
    }

    .product_1_body .filled-obj {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .product_1_body header {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 60px;
        padding: 0 5%;
        text-align: left;
        z-index: 1;
    }

    .product_1_body header h1 {
        display: inline-block;
        font-size: 22px;
        font-weight: bold;
        padding-top: 18px;
    }

    .product_1_body nav {
        display: inline-block;
        float: right;
    }

    .product_1_body nav ul li {
        display: inline-block;
        vertical-align: top;
        font-size: 13px;
    }

    .product_1_body nav ul li a {
        display: block;
        padding: 24px 15px;
    }

    .product_1_body nav ul li a:hover {
        background-color: rgba(255, 255, 255, 0.18);
    }

.product_1_body_main-slider {
    position: relative;
    width: 100%;
    height: 38vw;
    min-height: 8vw;
    margin-bottom: 50px;
    opacity: 0;
    visibility: hidden;
    transition: all 1.2s ease;
}

    .product_1_body .product_1_body_main-slider.slick-initialized {
        opacity: 1;
        visibility: visible;
    }

    .product_1_body .slick-slide {
        position: relative;
        height: 38vw;
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
    }

    .product_1_body .slick-slide::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
        background-color: #000;
        opacity: 0.3;
        z-index: 1;
    }

    .product_1_body .slick-slide video {
        display: block;
        position: absolute;
        top: 50%;
        left: 50%;
        min-width: 100%;
        min-height: 100%;
        width: auto;
        height: auto;
        transform: translate(-50%, -50%);
    }

    .product_1_body .slick-slide iframe {
        position: relative;
        pointer-events: none;
    }

    .product_1_body .slick-slide figure {
        position: relative;
        height: 100%;
    }

    .product_1_body .slide-image {
        opacity: 0;
        height: 100%;
        background-size: cover;
        background-position: center;
        transition: all 0.8s ease;
    }

    .product_1_body .slide-image.show {
        opacity: 1;
    }

    .product_1_body .image-entity {
        width: 100%;
        opacity: 0;
        visibility: hidden;
    }

    .product_1_body .loading {
        position: absolute;
        top: 44%;
        left: 0;
        width: 100%;
    }

    .product_1_body .slide-media {
        animation: slideOut 0.4s cubic-bezier(0.4, 0.29, 0.01, 1);
    }

    .product_1_body .slick-slide.slick-active {
        z-index: 1;
    }

    .product_1_body .slick-slide.slick-active .slide-media {
        animation: slideIn 2.4s cubic-bezier(0.4, 0.29, 0.01, 1);
    }

    .product_1_body .slick-slide.slick-active .caption {
        opacity: 1;
        transform: translateY(0);
        transition: all 0.7s cubic-bezier(0.32, 0.34, 0, 1.62) 0.6s;
    }

    .product_1_body .caption {
        position: absolute;
        top: 163px;
        left: 250px;
        text-align: center;
        color: #fff;
        margin: 0;
        font-size: 96px;
        font-weight: bold;
        letter-spacing: 0.02em;
        opacity: 0;
        z-index: 1;
        transition: all 0.3s ease;
        transform: translateY(100px);
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
    }

    .product_1_body .caption2 {
        position: absolute;
        top: 0;
        left: 250px;
        text-align: center;
        color: #fff;
        margin: 0;
        font-size: 96px;
        font-weight: bold;
        letter-spacing: 0.02em;
        opacity: 0;
        z-index: 1;
        transition: all 0.3s ease;
        transform: translateY(100px);
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
    }

    .product_1_body .slick-dots {
        text-align: center;
        padding-top: 15px;
    }

    .product_1_body .slick-dots li {
        display: inline-block;
        vertical-align: top;
        margin: 0 8px;
    }

    .product_1_body .slick-dots li button {
        width: 16px;
        height: 16px;
        border: none;
        cursor: pointer;
        border-radius: 50%;
        border: 2px solid #fff;
        background-color: #fff;
        transition: all 0.3s ease;
        opacity: 0.4;
    }

    .product_1_body .slick-dots li button:focus {
        outline: none;
    }

    .product_1_body .slick-dots li button:hover {
        opacity: 1;
    }

    .product_1_body .slick-dots li.slick-active button {
        border-color: var(--bg_color);
        box-shadow: 0 0 0 2px #fff;
        opacity: 1;
    }

    .product_1_body .container {
        background-color: #f2f2f2;
        color: #444;
        line-height: 1.6;
        padding: 40px 0;
    }

    .product_1_body .container .content {
        width: 90%;
        max-width: 980px;
        margin: 0 auto;
    }

    .product_1_body .container p {
        margin-bottom: 40px;
    }

    @keyframes slideIn {
        from {
            filter: blur(15px);
        }
        to {
            filter: blur(0);
        }
    }

    @keyframes slideOut {
        from {
            filter: blur(0);
        }
        to {
            filter: blur(15px);
        }
    }
</style>
<body>
<section class="product_1_body">
    <section class="product_1_body_main-slider">
        <div class="item image">
            <span class="loading">Loading...</span>
            <figure>
                <div class="slide-image slide-media"
                     style="background-image:url('image2.png');">
                    <img data-lazy="image.png-2.png"
                         class="image-entity"/>
                </div>
                <figcaption class="caption">Імпекс Граніт</figcaption>
                <figcaption class="caption2">Імпекс Граніт</figcaption>
            </figure>
        </div>
        <div class="item video" data-video-start="4">
            <video class="embed-player slide-media" width="1920" height="1020">
                <source src="video.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <!--        <p class="caption">Local Video</p>-->
        </div>
        <div class="item image">
            <span class="loading">Loading...</span>
            <figure>
                <div class="slide-image slide-media"
                     style="background-image:url('image1.png');">
                    <img data-lazy="image.png"
                         class="image-entity"/>
                </div>
                <!--            <figcaption class="caption">Static Image</figcaption>-->
            </figure>
        </div>
        <div class="item image">
            <span class="loading">Loading...</span>
            <figure>
                <div class="slide-image slide-media"
                     style="background-image:url('image.png');">
                    <img data-lazy="image.png"
                         class="image-entity"/>
                </div>
                <!--            <figcaption class="caption">Static Image</figcaption>-->
            </figure>
            +
        </div>

    </section>
    <section class="container">
        <div class="content">
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Suscipit veniam quisquam, rem illum dicta
                cumque,
                voluptate fugiat impedit beatae rerum ratione, voluptates nisi magni delectus ab, eaque atque iste.
                Molestias incidunt nemo veniam alias nam nisi distinctio optio error architecto odit! Illo dicta nulla
                fugiat distinctio laudantium, corrupti eum unde.</p>

            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Suscipit veniam quisquam, rem illum dicta
                cumque,
                voluptate fugiat impedit beatae rerum ratione, voluptates nisi magni delectus ab, eaque atque iste.
                Molestias incidunt nemo veniam alias nam nisi distinctio optio error architecto odit! Illo dicta nulla
                fugiat distinctio laudantium, corrupti eum unde. Lorem ipsum dolor sit amet, consectetur adipisicing
                elit.
                Suscipit veniam quisquam, rem illum dicta cumque, voluptate fugiat impedit beatae rerum ratione,
                voluptates
                nisi magni delectus ab, eaque atque iste. Molestias incidunt nemo veniam alias nam nisi distinctio optio
                error architecto odit! Illo dicta nulla fugiat distinctio laudantium, corrupti eum unde.</p>
        </div>
    </section>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel/slick/slick.min.js"></script>
    <script src="https://www.youtube.com/iframe_api"></script>
    <script src="https://player.vimeo.com/api/player.js"></script>
</section>

<script>
    const slideWrapper = $(".product_1_body_main-slider"),
        iframes = slideWrapper.find('.embed-player'),
        lazyImages = slideWrapper.find('.slide-image');
    let lazyCounter = 0;

    // POST commands to YouTube or Vimeo API
    const postMessageToPlayer = (player, command) => {
        if (player == null || command == null) return;
        player.contentWindow.postMessage(JSON.stringify(command), "*");
    }

    // When the slide is changing
    const playPauseVideo = (slick, control) => {
        let currentSlide, slideType, startTime, player, video;

        currentSlide = slick.find(".slick-current");
        slideType = currentSlide.attr("class").split(" ")[1];
        player = currentSlide.find("iframe").get(0);
        startTime = currentSlide.data("video-start");

        if (slideType === "vimeo") {
            switch (control) {
                case "play":
                    if ((startTime != null && startTime > 0) && !currentSlide.hasClass('started')) {
                        currentSlide.addClass('started');
                        postMessageToPlayer(player, {
                            "method": "setCurrentTime",
                            "value": startTime
                        });
                    }
                    postMessageToPlayer(player, {
                        "method": "play",
                        "value": 1
                    });
                    break;
                case "pause":
                    postMessageToPlayer(player, {
                        "method": "pause",
                        "value": 1
                    });
                    break;
            }
        } else if (slideType === "youtube") {
            switch (control) {
                case "play":
                    postMessageToPlayer(player, {
                        "event": "command",
                        "func": "mute"
                    });
                    postMessageToPlayer(player, {
                        "event": "command",
                        "func": "playVideo"
                    });
                    break;
                case "pause":
                    postMessageToPlayer(player, {
                        "event": "command",
                        "func": "pauseVideo"
                    });
                    break;
            }
        } else if (slideType === "video") {
            video = currentSlide.children("video").get(0);
            if (video != null) {
                if (control === "play") {
                    video.play();
                } else {
                    video.pause();
                }
            }
        }
    }

    // DOM Ready
    $(function () {
        // Initialize
        slideWrapper.on("init", function (slick) {
            slick = $(slick.currentTarget);
            setTimeout(function () {
                playPauseVideo(slick, "play");
            }, 1000);
            // remove the call to resizePlayer
        });
        slideWrapper.on("beforeChange", function (event, slick) {
            slick = $(slick.$slider);
            playPauseVideo(slick, "pause");
        });
        slideWrapper.on("afterChange", function (event, slick) {
            slick = $(slick.$slider);
            playPauseVideo(slick, "play");
        });
        slideWrapper.on("lazyLoaded", function (event, slick, image, imageSource) {
            lazyCounter++;
            if (lazyCounter === lazyImages.length) {
                lazyImages.addClass('show');
                // slideWrapper.slick("slickPlay");
            }
        });

        // Start the slider without resizing player elements
        slideWrapper.slick({
            autoplaySpeed: 4000,
            lazyLoad: "progressive",
            speed: 600,
            arrows: false,
            dots: true,
            cssEase: "cubic-bezier(0.87, 0.03, 0.41, 0.9)"
        });
    });

    // Remove resize event listener
    $(window).off("resize.slickVideoPlayer");
</script>
</body>


</html>