<section class="katalog_about_block" aria-label="Informacje o działalności GARANT-BUD">
    <div class="katalog_about_block__inner">
        <p>
            GARANT-BUD prowadzi działalność w zakresie kompleksowej obsługi sprzedaży, wykonawstwa oraz realizacji
            inwestycji budowlanych. Nasza oferta skierowana jest zarówno do klientów indywidualnych, jak i
            inwestycyjnych.
        </p>
        <p>
            Specjalizujemy się w sprzedaży wyrobów granitowych w hurcie, detalu oraz na zamówienia indywidualne, w
            tym kostki granitowej, płyt granitowych, slabów (płyt wielkoformatowych), krawężników, stopni, parapetów
            oraz innych elementów kamiennych wykorzystywanych w budownictwie i architekturze ogrodowej. Zapewniamy
            profesjonalne doradztwo techniczne, wykonanie pomiarów, przygotowanie zamówień pod wymiar oraz transport
            materiałów bezpośrednio do klienta.
        </p>
        <p>
            W ramach prowadzonej działalności realizujemy również konstrukcje metalowe, obejmujące projektowanie,
            produkcję, obróbkę oraz montaż elementów stalowych i aluminiowych. Wykonujemy m.in. ogrodzenia, bramy,
            balustrady, schody, wiaty, hale, konstrukcje nośne oraz elementy wzmacniające budynki, dostosowane do
            indywidualnych potrzeb klientów, z zachowaniem obowiązujących norm technicznych i zasad bezpieczeństwa.
        </p>
        <p>
            Ponadto zajmujemy się budową budynków w stanie surowym, obejmującą wykonanie fundamentów, ścian nośnych i
            działowych, stropów, schodów oraz konstrukcji dachowych, a także przygotowanie obiektów do dalszych etapów
            wykończeniowych. Dodatkowo świadczymy usługi w zakresie dociepleń budynków, obejmujące ocieplanie elewacji
            styropianem lub wełną mineralną, wykonanie warstw zbrojonych i tynków elewacyjnych, których celem jest
            poprawa efektywności energetycznej obiektów oraz obniżenie kosztów ich eksploatacji.
        </p>
        <p>
            Naszym celem jest świadczenie usług w sposób kompleksowy – od doradztwa i przygotowania projektu, poprzez
            dostawę materiałów, aż po profesjonalne wykonanie i montaż – z zachowaniem wysokiej jakości oraz
            obowiązujących norm technicznych.
        </p>
    </div>
</section>
<script>
    var bg = document.querySelector('.item-bg');
    var isDesktop = window.matchMedia('(min-width: 801px)').matches;

    function updateBackgroundPosition(sliderItem) {
        if (!isDesktop || !bg || !sliderItem) {
            if (bg) {
                bg.classList.remove('active');
            }
            return;
        }

        var x = sliderItem.getBoundingClientRect().left + window.scrollX;
        var y = sliderItem.getBoundingClientRect().top + window.scrollY;
        var width = sliderItem.getBoundingClientRect().width;
        var height = sliderItem.getBoundingClientRect().height;

        bg.style.width = width + 'px';
        bg.style.height = height + 'px';
        bg.style.transform = 'translateX(' + x + 'px ) translateY(' + y + 'px)';
        bg.classList.add('active');
    }

    if (isDesktop) {
        $(document).on('mouseenter', '.news__item', function () {
            $('.news__item').removeClass('active');
            $(this).addClass('active');
            updateBackgroundPosition(this);
        });

        $(document).on('mouseleave', '.news__item', function () {
            $('.item-bg').removeClass('active');
            $('.news__item').removeClass('active');
        });
    }

    var swiper = new Swiper('.news-slider', {
        effect: 'coverflow',
        grabCursor: true,
        loop: true,
        centeredSlides: true,
        keyboard: true,
        spaceBetween: 16,
        slidesPerView: 1,
        speed: 300,
        coverflowEffect: {
            rotate: 0,
            stretch: 0,
            depth: 0,
            modifier: 3,
            slideShadows: false
        },
        breakpoints: {
            576: {
                slidesPerView: 'auto',
                spaceBetween: 0,
                centeredSlides: true
            }
        },
        simulateTouch: true,
        navigation: {
            nextEl: '.news-slider-next',
            prevEl: '.news-slider-prev'
        },
        pagination: {
            el: '.news-slider__pagination',
            clickable: true
        },
        on: {
            init: function () {
                var activeItem = document.querySelector('.swiper-slide-active');
                var sliderItem = activeItem ? activeItem.querySelector('.news__item') : null;

                $('.news__item').removeClass('active');
                $('.swiper-slide-active .news__item').addClass('active');
                updateBackgroundPosition(sliderItem);
            }
            return;
        }
    });

    swiper.on('touchEnd', function () {
        $('.news__item').removeClass('active');
        $('.swiper-slide-active .news__item').addClass('active');
        var activeItem = document.querySelector('.swiper-slide-active');
        var sliderItem = activeItem ? activeItem.querySelector('.news__item') : null;
        updateBackgroundPosition(sliderItem);
    });

    swiper.on('slideChange', function () {
        $('.news__item').removeClass('active');
    });

    swiper.on('slideChangeTransitionEnd', function () {
        $('.news__item').removeClass('active');
        var activeItem = document.querySelector('.swiper-slide-active');
        var sliderItem = activeItem ? activeItem.querySelector('.news__item') : null;

        setTimeout(function () {
            $('.swiper-slide-active .news__item').addClass('active');
            updateBackgroundPosition(sliderItem);
        }, 100);
    });
</script>
